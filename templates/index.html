<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube Search Proxy</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    input { padding: 8px; width: 300px; }
    button { padding: 8px 12px; }
    .result { margin-top: 15px; }
    .card { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; display: flex; gap: 10px; }
    img { width: 120px; height: auto; }
  </style>
</head>
<body>
  <h2>ðŸŽµ YouTube Search Proxy</h2>
  <input type="text" id="query" placeholder="Type something...">
  <button onclick="search()">Search</button>
  
  <div id="results"></div>

  <script>
    async function search() {
      const q = document.getElementById("query").value;
      if (!q) return alert("Please enter a query");
      
      const res = await fetch(`/search?q=${encodeURIComponent(q)}`);
      const data = await res.json();

      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      if (data.results && data.results.length > 0) {
        data.results.forEach(item => {
          const div = document.createElement("div");
          div.className = "card";
          div.innerHTML = `
            <img src="${item.thumbnail}" alt="">
            <div>
              <b>${item.title}</b><br>
              <a href="${item.url}" target="_blank">${item.url}</a>
            </div>
          `;
          resultsDiv.appendChild(div);
        });
      } else {
        resultsDiv.innerHTML = "<p>No results found.</p>";
      }
    }
  </script>
</body>
</html>
