<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ad-Free Music Player ðŸŽµ</title>
  <style>
    body { font-family: Arial, sans-serif; background:#111; color:#fff; margin:0; }
    #player { width:100%; padding:20px; text-align:center; background:#222; }
    audio { width:80%; margin-top:10px; }
    #suggestions { padding:20px; display:grid; grid-template-columns: repeat(auto-fill,minmax(250px,1fr)); gap:15px; }
    .song { background:#333; padding:10px; border-radius:10px; cursor:pointer; transition:0.3s; }
    .song:hover { background:#555; }
  </style>
</head>
<body>
  <div id="player">
    <h2 id="nowPlaying">ðŸŽ¶ Select a Song</h2>
    <audio id="audioPlayer" controls></audio>
  </div>

  <div id="suggestions"></div>

  <script>
    async function loadSongs(query="arijit singh") {
      const res = await fetch(`https://adfree-proxy.onrender.com/search?q=${encodeURIComponent(query)}`);
      const data = await res.json();
      const container = document.getElementById("suggestions");
      container.innerHTML = "";

      if (!data || data.length === 0) {
        container.innerHTML = "<p>No songs found ðŸ˜¢</p>";
        return;
      }

      data.forEach(song => {
        const div = document.createElement("div");
        div.className = "song";
        div.innerHTML = `<strong>${song.title}</strong>`;
        div.onclick = () => playSong(song);
        container.appendChild(div);
      });
    }

    function playSong(song) {
      document.getElementById("nowPlaying").innerText = "Now Playing: " + song.title;
      const player = document.getElementById("audioPlayer");
      player.src = song.url;
      player.play();
    }

    // Load default songs on page load
    loadSongs();
  </script>
</body>
</html>
