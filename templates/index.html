<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>YouTube Ad-Free Player</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;margin:28px}
    input[type=text]{width:70%;padding:8px}
    button{padding:8px 12px;margin-left:6px}
    .frame{margin-top:18px}
    .controls{margin-top:10px}
  </style>
</head>
<body>
  <h2>YouTube Ad-Free Player (No Ads)</h2>
  <form onsubmit="loadVideos(); return false;">
    <label>Enter YouTube URLs (comma separated):</label><br>
    <input type="text" id="yturls" 
           placeholder="https://youtu.be/abc123, https://www.youtube.com/watch?v=xyz456" required>
    <button type="submit">Load</button>
    <button type="button" onclick="document.getElementById('yturls').value=''">Clear</button>
  </form>

  <div class="frame" id="player"></div>
  <div class="controls">
    <button onclick="prevVideo()">⏮ Prev</button>
    <button onclick="nextVideo()">⏭ Next</button>
  </div>

  <script>
    let videoList = [];
    let currentIndex = 0;

    function extractId(url) {
      try {
        if (url.includes("v=")) {
          return new URL(url).searchParams.get("v");
        } else if (url.includes("youtu.be/")) {
          return url.split("youtu.be/")[1].split("?")[0];
        }
      } catch {}
      return "";
    }

    function loadVideos() {
      let input = document.getElementById('yturls').value.trim();
      if (!input) return;

      videoList = input.split(",").map(u => extractId(u.trim())).filter(v => v);
      currentIndex = 0;

      if (videoList.length > 0) {
        playVideo(videoList[currentIndex]);
      } else {
        document.getElementById('player').innerHTML = "<p style='color:red'>No valid YouTube URLs</p>";
      }
    }

    function playVideo(videoId) {
      document.getElementById('player').innerHTML =
        `<iframe width="560" height="315"
          src="https://www.youtube-nocookie.com/embed/${videoId}?autoplay=1&modestbranding=1&rel=0"
          frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
    }

    function nextVideo() {
      if (videoList.length === 0) return;
      currentIndex = (currentIndex + 1) % videoList.length;
      playVideo(videoList[currentIndex]);
    }

    function prevVideo() {
      if (videoList.length === 0) return;
      currentIndex = (currentIndex - 1 + videoList.length) % videoList.length;
      playVideo(videoList[currentIndex]);
    }
  </script>
</body>
</html>
