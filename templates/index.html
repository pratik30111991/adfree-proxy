<!DOCTYPE html>
<html>
<head>
  <title>Ad-Free Music Player</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; }
    .player { width: 90%; max-width: 600px; margin: 50px auto; }
    .song-list { margin-top: 20px; max-height: 400px; overflow-y: auto; }
    .song-item { padding: 10px; cursor: pointer; border-bottom: 1px solid #444; }
    .song-item:hover { background: #222; }
    audio { width: 100%; margin-top: 20px; }
  </style>
</head>
<body>

<div class="player">
  <h2 id="current-title">Select a song</h2>
  <audio id="audio-player" controls></audio>
  <div class="song-list" id="song-list"></div>
</div>

<script>
const artist = "arijit singh"; // change for other artists
const apiUrl = `https://adfree-proxy.onrender.com/search?q=${encodeURIComponent(artist)}`;

const audioPlayer = document.getElementById("audio-player");
const songListDiv = document.getElementById("song-list");
const currentTitle = document.getElementById("current-title");

fetch(apiUrl)
  .then(res => res.json())
  .then(data => {
    data.forEach(song => {
      const div = document.createElement("div");
      div.className = "song-item";
      div.textContent = song.title;
      div.onclick = () => {
        audioPlayer.src = song.url;
        audioPlayer.play();
        currentTitle.textContent = song.title;
      };
      songListDiv.appendChild(div);
    });
  })
  .catch(err => console.error(err));
</script>

</body>
</html>
